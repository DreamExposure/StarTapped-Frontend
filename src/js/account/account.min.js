function updateEmail(){let e={email:document.getElementById("update-email-email").value,password:document.getElementById("update-email-password").value,gcap:grecaptcha.getResponse(1)};$.ajax({url:"https://api.startapped.com/v1/account/update",headers:{"Content-Type":"application/json",Authorization_Access:getCredentials().access,Authorization_Refresh:getCredentials().refresh},method:"POST",dataType:"json",data:JSON.stringify(e),success:function(e){grecaptcha.reset(),$("#modal-update-email").modal("hide"),showSnackbar(e.message)},error:function(e,a,t){showSnackbar(JSON.parse(e.responseText).message),grecaptcha.reset()}})}function updatePassword(){let e={old_password:document.getElementById("update-password-current").value,password:document.getElementById("update-password-new").value,gcap:grecaptcha.getResponse(0)};$.ajax({url:"https://api.startapped.com/v1/account/update",headers:{"Content-Type":"application/json",Authorization_Access:getCredentials().access,Authorization_Refresh:getCredentials().refresh},method:"POST",dataType:"json",data:JSON.stringify(e),success:function(e){removeCredentials(),saveCredentials(e.credentials,!0),grecaptcha.reset(),$("#modal-update-password").modal("hide"),showSnackbar(e.message)},error:function(e,a,t){showSnackbar(JSON.parse(e.responseText).message),grecaptcha.reset()}})}function updateSafeSearch(){let e={safe_search:document.getElementById("update-safe-search").checked};$.ajax({url:"https://api.startapped.com/v1/account/update",headers:{"Content-Type":"application/json",Authorization_Access:getCredentials().access,Authorization_Refresh:getCredentials().refresh},method:"POST",dataType:"json",data:JSON.stringify(e),success:function(e){showSnackbar(e.message)},error:function(e,a,t){showSnackbar(JSON.parse(e.responseText).message)}})}function initOnLoad(){initOnHub(),$.ajax({url:"https://api.startapped.com/v1/account/get",headers:{"Content-Type":"application/json",Authorization_Access:getCredentials().access,Authorization_Refresh:getCredentials().refresh},method:"POST",dataType:"json",success:function(e){document.getElementById("update-safe-search").checked=e.account.safe_search},error:function(e,a,t){showSnackbar(JSON.parse(e.responseText).message)}}),getAllBlogsSelf()}function checkPasswordValidity(e){e.value!==document.getElementById("update-password-new").value?e.setCustomValidity("Passwords must match!"):e.setCustomValidity("")}